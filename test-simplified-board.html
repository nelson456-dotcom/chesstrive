<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Simplified Chess Board</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
    }
    .card {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      text-align: center;
      margin-bottom: 10px;
    }
    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
    }
    .link {
      display: block;
      padding: 15px;
      margin: 10px 0;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      text-align: center;
      font-weight: bold;
      transition: transform 0.2s;
    }
    .link:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }
    .instructions {
      background: #f8f9fa;
      border-left: 4px solid #667eea;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    .instructions h3 {
      margin-top: 0;
      color: #667eea;
    }
    .instructions ul {
      margin: 10px 0;
      padding-left: 20px;
    }
    .instructions li {
      margin: 8px 0;
      color: #555;
    }
    .badge {
      display: inline-block;
      padding: 4px 8px;
      background: #28a745;
      color: white;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
      margin-left: 10px;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>‚ôüÔ∏è Simplified Chess Board Test</h1>
    <p class="subtitle">Clean implementation with multi-level variations</p>
    
    <a href="http://localhost:3000/simplified-chess-board" class="link" target="_blank">
      üöÄ Open Simplified Chess Board <span class="badge">NEW</span>
    </a>
    
    <div class="instructions">
      <h3>‚úÖ Fixed Issues:</h3>
      <ul>
        <li><strong>Moves in sublines now show correctly</strong> in the game notation</li>
        <li><strong>Sublines are now numbered</strong> with proper move numbers (e.g., "2..." for Black's 2nd move)</li>
        <li><strong>Multi-move variations work</strong> - play multiple moves in a variation</li>
        <li><strong>Multi-level sub-variations</strong> - create variations within variations</li>
        <li><strong>Path tracking fixed</strong> - state updates correctly when adding moves</li>
      </ul>
    </div>
    
    <div class="instructions">
      <h3>üß™ Test Cases:</h3>
      <ul>
        <li><strong>Test 1: Multi-move variation</strong>
          <br>1. Play: e4, e5, Nf3, Nc6
          <br>2. Click back to after e5 (move 1)
          <br>3. Play: c5 (creates variation)
          <br>4. Play: Nf3 (should stay in variation and show "2. Nf3")
          <br>5. Check notation shows: <code>1. e4 (1... c5 2. Nf3) e5</code>
        </li>
        <li><strong>Test 2: Sub-variations</strong>
          <br>1. In the variation from Test 1, go back to c5
          <br>2. Play: Nc3 (creates sub-variation)
          <br>3. Check notation shows: <code>(1... c5 (2. Nc3) 2. Nf3)</code>
        </li>
        <li><strong>Test 3: Click navigation</strong>
          <br>1. Click any move in the notation
          <br>2. Board should jump to that position
          <br>3. Try clicking moves in variations too
        </li>
      </ul>
    </div>
    
    <div class="instructions">
      <h3>üîß Key Changes Made:</h3>
      <ul>
        <li>Fixed state synchronization in <code>onPieceDrop</code></li>
        <li>Added support for second-level variations (path length 4)</li>
        <li>Fixed move numbering: shows <code>N.</code> for white, <code>N...</code> for black</li>
        <li>Updated path tracking to prevent stale state</li>
        <li>Added debug logging for move additions</li>
      </ul>
    </div>
  </div>
</body>
</html>

